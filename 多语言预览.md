# å¤šè¯­è¨€ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®å·²å®ç°å®Œæ•´çš„å›½é™…åŒ– (i18n) ç³»ç»Ÿï¼Œæ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢ã€‚ç³»ç»Ÿç”±ä»¥ä¸‹æ ¸å¿ƒéƒ¨åˆ†ç»„æˆï¼š

### æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ locales/                    # ç¿»è¯‘æ–‡ä»¶
â”‚   â”œâ”€â”€ zh.json                # ä¸­æ–‡ç¿»è¯‘
â”‚   â””â”€â”€ en.json                # è‹±æ–‡ç¿»è¯‘
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ index.js               # i18n é…ç½®
â”‚   â””â”€â”€ translations.ts        # ç¿»è¯‘é”®å€¼å®šä¹‰ (ç±»å‹å®‰å…¨)
â”œâ”€â”€ composables/
â”‚   â””â”€â”€ useTranslations.ts      # ç¿»è¯‘ composable hook
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ LanguageSwitcher.vue    # è¯­è¨€åˆ‡æ¢æŒ‰é’®
â”‚   â””â”€â”€ ...å…¶ä»–ç»„ä»¶
â””â”€â”€ main.js                     # åº”ç”¨å…¥å£
```

## ğŸš€ å¦‚ä½•ä½¿ç”¨ç¿»è¯‘

### æ–¹å¼ 1ï¼šåœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨ï¼ˆæœ€ç®€å•ï¼‰

```vue
<template>
  <div>
    <!-- ç›´æ¥ä½¿ç”¨ $t() å‡½æ•° -->
    <h1>{{ $t('pages.overview.title') }}</h1>
    <p>{{ $t('menu.overview') }}</p>
  </div>
</template>
```

### æ–¹å¼ 2ï¼šä½¿ç”¨ useTranslations composableï¼ˆæ¨è - ç±»å‹å®‰å…¨ï¼‰

```vue
<template>
  <div>
    <!-- ä½¿ç”¨ composable è·å¾—ç±»å‹æ£€æŸ¥å’Œè‡ªåŠ¨è¡¥å…¨ -->
    <h1>{{ t(page.overview.title) }}</h1>
    <p>{{ t(menu.overview) }}</p>
  </div>
</template>

<script setup lang="ts">
import { useTranslations } from '@/composables/useTranslations'

const { t, page, menu } = useTranslations()
</script>
```

### æ–¹å¼ 3ï¼šåœ¨è„šæœ¬ä¸­è·å–ç¿»è¯‘

```vue
<script setup lang="ts">
import { useI18n } from 'vue-i18n'

const { t } = useI18n()

const title = t('pages.overview.title')
console.log(title) // è¾“å‡ºç¿»è¯‘åçš„æ–‡æœ¬
</script>
```

## â• æ·»åŠ æ–°çš„ç¿»è¯‘

### æ­¥éª¤ 1ï¼šåœ¨ç¿»è¯‘æ–‡ä»¶ä¸­æ·»åŠ é”®å€¼

**src/locales/zh.json** ä¸­æ·»åŠ ï¼š
```json
{
  "pages": {
    "newPage": {
      "title": "æ–°é¡µé¢æ ‡é¢˜",
      "description": "é¡µé¢æè¿°"
    }
  }
}
```

**src/locales/en.json** ä¸­æ·»åŠ å¯¹åº”çš„è‹±æ–‡ç¿»è¯‘ï¼š
```json
{
  "pages": {
    "newPage": {
      "title": "New Page Title",
      "description": "Page Description"
    }
  }
}
```

### æ­¥éª¤ 2ï¼šæ›´æ–° translations.tsï¼ˆä¸ºäº†ç±»å‹å®‰å…¨ï¼‰

åœ¨ `src/i18n/translations.ts` ä¸­çš„ `translationKeys` å¯¹è±¡ä¸­æ·»åŠ ï¼š

```typescript
export const translationKeys = {
  pages: {
    newPage: {
      title: 'pages.newPage.title',
      description: 'pages.newPage.description',
    }
  }
} as const
```

### æ­¥éª¤ 3ï¼šåœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```vue
<script setup lang="ts">
import { useTranslations } from '@/composables/useTranslations'

const { t, page } = useTranslations()
</script>

<template>
  <div>
    <h1>{{ t(page.newPage.title) }}</h1>
    <p>{{ t(page.newPage.description) }}</p>
  </div>
</template>
```

## ğŸ“ å‘½åè§„èŒƒ

ä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹å‘½åè§„èŒƒç»„ç»‡ç¿»è¯‘é”®å€¼ï¼š

```
common          - é€šç”¨æ–‡æœ¬ï¼ˆè¯­è¨€ã€ç¡®å®šã€å–æ¶ˆç­‰ï¼‰
menu            - èœå•é¡¹æ–‡æœ¬
layout          - å¸ƒå±€ç›¸å…³æ–‡æœ¬ï¼ˆå¤´éƒ¨ã€åº•éƒ¨ç­‰ï¼‰
pages
  â”œâ”€â”€ overview  - å…¨å±€æ€»è§ˆé¡µé¢
  â”œâ”€â”€ activity  - æ´»è·ƒåº¦åˆ†æé¡µé¢
  â””â”€â”€ ...
  â”œâ”€â”€ [pageName]
      â”œâ”€â”€ title              - é¡µé¢æ ‡é¢˜
      â”œâ”€â”€ subtitle           - å‰¯æ ‡é¢˜
      â”œâ”€â”€ stats / labels     - ç»Ÿè®¡æ•°æ®æ ‡ç­¾
      â”œâ”€â”€ charts             - å›¾è¡¨æ ‡é¢˜
      â””â”€â”€ ranking / buttons  - æ’è¡Œæ¦œæˆ–æŒ‰é’®æ–‡æœ¬
```

## ğŸ¯ å®é™…ä¾‹å­

### ç¤ºä¾‹ 1ï¼šä¸º ActivityAnalysis.vue æ·»åŠ å¤šè¯­è¨€

1. **src/locales/zh.json** ä¸­æ·»åŠ ï¼š
```json
{
  "pages": {
    "activity": {
      "title": "æ´»è·ƒåº¦åˆ†æ",
      "subtitle": "é¡¹ç›®æ´»è·ƒåº¦æŒ‡æ ‡è¯¦ç»†åˆ†æ",
      "charts": {
        "trend": "ğŸ“ˆ æ´»è·ƒåº¦è¶‹åŠ¿",
        "distribution": "ğŸ“Š æ´»è·ƒåº¦åˆ†å¸ƒ"
      }
    }
  }
}
```

2. **src/locales/en.json** ä¸­æ·»åŠ ï¼š
```json
{
  "pages": {
    "activity": {
      "title": "Activity Analysis",
      "subtitle": "Detailed Project Activity Metrics",
      "charts": {
        "trend": "ğŸ“ˆ Activity Trend",
        "distribution": "ğŸ“Š Activity Distribution"
      }
    }
  }
}
```

3. **src/i18n/translations.ts** ä¸­æ·»åŠ ï¼š
```typescript
export const translationKeys = {
  pages: {
    activity: {
      title: 'pages.activity.title',
      subtitle: 'pages.activity.subtitle',
      charts: {
        trend: 'pages.activity.charts.trend',
        distribution: 'pages.activity.charts.distribution',
      }
    }
  }
}
```

4. **ActivityAnalysis.vue** ä¸­ä½¿ç”¨ï¼š
```vue
<script setup lang="ts">
import { useTranslations } from '@/composables/useTranslations'

const { t, page } = useTranslations()
</script>

<template>
  <div>
    <h1>{{ t(page.activity.title) }}</h1>
    <p>{{ t(page.activity.subtitle) }}</p>
    <div class="chart-title">{{ t(page.activity.charts.trend) }}</div>
  </div>
</template>
```

## ğŸ”„ è¯­è¨€åˆ‡æ¢

ç”¨æˆ·å¯ä»¥é€šè¿‡ä¾§è¾¹æ åº•éƒ¨çš„ **LanguageSwitcher** ç»„ä»¶å¿«é€Ÿåˆ‡æ¢è¯­è¨€ï¼š
- ç‚¹å‡»æŒ‰é’®åœ¨"ä¸­æ–‡"å’Œ"English"ä¹‹é—´åˆ‡æ¢
- è¯­è¨€é€‰æ‹©ä¼šè‡ªåŠ¨ä¿å­˜åˆ° localStorage
- é¡µé¢ä¸éœ€è¦åˆ·æ–°ï¼Œæ‰€æœ‰æ–‡æœ¬ä¼šå³æ—¶æ›´æ–°

## ğŸ’¡ æœ€ä½³å®è·µ

### âœ… å»ºè®®åšæ³•

1. **ä½¿ç”¨ useTranslations composable** - è·å¾—ç±»å‹æ£€æŸ¥å’Œè‡ªåŠ¨è¡¥å…¨
2. **åœ¨ translations.ts ä¸­ç»´æŠ¤æ‰€æœ‰é”®å€¼** - ä¾¿äºè¿½è¸ªå’Œé‡æ„
3. **éµå¾ªå‘½åè§„èŒƒ** - ä¿æŒé¡¹ç›®ç¿»è¯‘çš„ä¸€è‡´æ€§
4. **ä¸€æ¬¡æ€§æ·»åŠ å®Œæ•´çš„ç¿»è¯‘å¯¹** - ä¸­æ–‡å’Œè‹±æ–‡åŒæ—¶æ·»åŠ 
5. **ä½¿ç”¨ descriptive çš„é”®å€¼** - é”®å€¼åº”è¯¥èƒ½åæ˜ å…¶å«ä¹‰

```typescript
// âœ… å¥½
pages.overview.stats.contributors
pages.activity.charts.trendLine

// âŒ ä¸å¥½
page.stat1
chart_title_1
```

### âŒ é¿å…åšæ³•

1. **ä¸è¦æ··åˆä½¿ç”¨ä¸åŒçš„ç¿»è¯‘æ–¹å¼** - ä¿æŒé£æ ¼ä¸€è‡´
2. **ä¸è¦åœ¨æ¨¡æ¿ä¸­ç¡¬ç¼–ç æ–‡æœ¬** - å§‹ç»ˆä½¿ç”¨ç¿»è¯‘é”®å€¼
3. **ä¸è¦åªæ·»åŠ ä¸­æ–‡ç¿»è¯‘** - åº”è¯¥åŒæ—¶æ·»åŠ è‹±æ–‡ç¿»è¯‘
4. **ä¸è¦è¿‡åº¦åµŒå¥—é”®å€¼** - ä¿æŒåˆç†çš„æ·±åº¦ï¼ˆé€šå¸¸ä¸è¶…è¿‡ 4 å±‚ï¼‰

## ğŸ”§ è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹æ‰€æœ‰ç¿»è¯‘é”®å€¼

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼š
```javascript
// åœ¨ç»„ä»¶ä¸­
const { keys } = useTranslations()
console.log(keys)
```

### æ£€æŸ¥å½“å‰è¯­è¨€

```javascript
import { useI18n } from 'vue-i18n'

const { locale } = useI18n()
console.log(locale.value) // è¾“å‡º 'zh' æˆ– 'en'
```

### æ‰‹åŠ¨åˆ‡æ¢è¯­è¨€

```javascript
const { locale } = useI18n()
locale.value = 'en'  // åˆ‡æ¢åˆ°è‹±æ–‡
```

## ğŸ“š ç›¸å…³æ–‡ä»¶

- **i18n é…ç½®**: `src/i18n.js`
- **ç¿»è¯‘é”®å€¼å®šä¹‰**: `src/i18n/translations.ts`
- **composable Hook**: `src/composables/useTranslations.ts`
- **è¯­è¨€åˆ‡æ¢ç»„ä»¶**: `src/components/LanguageSwitcher.vue`
- **ä¸­æ–‡ç¿»è¯‘**: `src/locales/zh.json`
- **è‹±æ–‡ç¿»è¯‘**: `src/locales/en.json`

## ğŸ†˜ å¸¸è§é—®é¢˜

**Q: ä¸ºä»€ä¹ˆæˆ‘çš„ç¿»è¯‘æ²¡æœ‰æ˜¾ç¤ºï¼Ÿ**
A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®ä¿é”®å€¼åœ¨ JSON æ–‡ä»¶ä¸­å­˜åœ¨
2. ç¡®ä¿ä¸­è‹±æ–‡ç¿»è¯‘æ–‡ä»¶ä¸­çš„é”®å€¼å®Œå…¨ç›¸åŒ
3. åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯æ¶ˆæ¯
4. åˆ·æ–°é¡µé¢ä»¥é‡æ–°åŠ è½½ç¿»è¯‘

**Q: å¦‚ä½•åªç¿»è¯‘éƒ¨åˆ†æ–‡æœ¬ï¼Ÿ**
A: åœ¨æ¨¡æ¿ä¸­æ··åˆä½¿ç”¨ç¿»è¯‘å’Œæ™®é€šæ–‡æœ¬ï¼š
```vue
<span>{{ t('common.prefix') }} - Project Name</span>
```

**Q: æ”¯æŒå…¶ä»–è¯­è¨€å—ï¼Ÿ**
A: æ”¯æŒï¼æ·»åŠ æ–°è¯­è¨€çš„æ­¥éª¤ï¼š
1. åˆ›å»ºæ–°çš„ç¿»è¯‘æ–‡ä»¶ `src/locales/es.json`
2. åœ¨ `src/i18n.js` ä¸­å¯¼å…¥å¹¶æ³¨å†Œ
3. åœ¨ `LanguageSwitcher.vue` ä¸­æ·»åŠ è¯­è¨€é€‰é¡¹
